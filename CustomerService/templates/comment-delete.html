{% extends 'home.html' %}
{% load static %}
{% block css %}
    <link rel="stylesheet" type="text/css" href="{% static '/css/comment-delete.css' %}">
{% endblock %}

{% block title %}Comment delete{% endblock %}

{% block logged_in_content %}
<div class="container">
    <h2>Comment delete</h2>

    {% if not has_delete_permission %}
        <p class="no-permission">You are not authorized to delete comments.</p>
    {% endif %}

    {% for comment in all_comments %}
        <div class="comment">
            <div class="comment-header">
                {{ comment.user.username }} on {{ comment.timestamp }} with {{ comment.sterne }} â˜…
            </div>
            <div class="comment-details">
                Comment ID: {{ comment.id }}
            </div>
            <p class="comment-text">{{ comment.text }}</p>

            {% if has_delete_permission %}
                <form method="POST">
                    {% csrf_token %}
                    <input type="hidden" id="comment_id" name="comment_id" value="{{ comment.id }}">
                    <button type="submit" name="delete">Delete</button>
                </form>
            {% endif %}
        </div>
    {% endfor %}
</div>
{% endblock %}
